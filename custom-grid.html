<!DOCTYPE html>

<html> 
    <head>
      <title>Grid-customizer version2</title>
      
        
 <style type="text/css">

input{
  float:left;
}
p{margin: 0;
padding: 0;}
.row{
  max-width: 960px;
  margin:0px auto;
  background-color: red;
  overflow: hidden;
}
ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
  clear: both;
}
li{float: left;margin-left: 20px;}
li:first-child{margin-left:0px;}

 </style>
         
         
    </head>
    <body>

<div class="row">

      <h1>Create custom grid system</h1>

      <ul>
        <li>
          <p>Max-Width (px)</p>
          <input id="mw" type="text" >
        </li>
        <li>
          <p>Grid System</p>
          <input id="tg" type="text" >
        </li>
        <li>
          <p>Margin (px)</p>
          <input id="m" type="text" >
        </li>
        
                  
      </ul>
        <br><br><br>
       <input id="submit" type="button"  value="Create" onclick="reload()"> <br /> <br>
      <textarea id="output" readonly rows="34" cols="60">
      </textarea>
  
      <script type="text/javascript">
         
         var mw=1040,m=40,tg=12,r_margin,string="";
         var result=new Array(); 
         
         function calculate()
         {  

            r_margin=Math.round(((40/mw)*100)*100000000000)/100000000000;
            string="";
            string+=".row { &#13;&#10;    clear:both; &#13;&#10;    max-width:"+mw+"px; &#13;&#10;    margin:0 auto; &#13;&#10;}&#13;&#13;&#10;[class^=&#34;col-&#34;] {&#13;&#10;    float: left;&#13;&#10;    margin: 0 "+r_margin+"% 0 0;&#13;&#10;    list-style: none;&#13;&#10;    position: relative;&#13;&#10;}&#13;&#13;&#10;[class^=&#34;col-&#34;]:last-child {&#13;&#10;    margin: 0;&#13;&#10;}&#13;&#13;&#10;"

            
            for(var i=1;i<=tg;i++)
            {
              result[i-1]=Math.round(([(i/tg)-((m/mw)*(1-(i/tg)))]*100)*10000000000)/10000000000;

              if(i==tg){string+=".col-"+i+" { width: "+result[i-1]+"%; margin: 0 }&#13;&#10;";}
                else{string+=".col-"+i+" { width: "+result[i-1]+"% }&#13;&#10;";}
         
            }         
          
         }



         


         function reload()
         {
            mw=document.getElementById("mw").value;
            tg=document.getElementById("tg").value;
            m=document.getElementById("m").value;
            calculate();
            document.getElementById("output").innerHTML=string;
         }


                 
        document.getElementById("mw").value=1040;
        document.getElementById("m").value=40;
        document.getElementById("tg").value=12;
        reload();
       
         </script>
         </div>
    </body>

</html>